{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar _jsxFileName = \"/Users/Morgan/Programmation/Pro/Hygo/hygoclient/src/screens/DrawerScreen.js\";\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport { NavigationActions } from 'react-navigation';\nimport { DrawerActions } from 'react-navigation-drawer';\nimport { connect } from 'react-redux';\nimport { deleteToken as _deleteToken } from \"../store/actions/authActions\";\nimport { Thumbnail, Header } from 'native-base';\nimport pkg from \"../../app.json\";\nimport COLORS from \"../colors\";\nimport i18n from 'i18n-js';\nimport { getEquipment, getFields } from \"../api/hygoApi\";\nimport { Amplitude } from \"../amplitude\";\n\nvar DrawerScreen = function DrawerScreen(_ref) {\n  var navigation = _ref.navigation,\n      deviceid = _ref.deviceid,\n      deviceType = _ref.deviceType,\n      userName = _ref.userName,\n      familyName = _ref.familyName,\n      deleteToken = _ref.deleteToken;\n\n  var goToEquipment = function goToEquipment() {\n    navigation.dispatch(DrawerActions.closeDrawer());\n    navigation.navigate('LoadingScreen', {\n      next: 'EquipmentSettingsScreen',\n      params: {},\n      action: getEquipment\n    });\n  };\n\n  var goToFields = function goToFields() {\n    navigation.dispatch(DrawerActions.closeDrawer());\n    navigation.navigate('FieldsScreen');\n  };\n\n  var logout = function logout() {\n    return _regeneratorRuntime.async(function logout$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.removeItem('token'));\n\n          case 2:\n            deleteToken();\n            Amplitude.setUserId(null);\n            navigation.navigate('BarCode');\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var goToTest = function goToTest() {\n    navigation.navigate('TestPage');\n  };\n\n  var sendEmail = function sendEmail() {\n    var email = 'editab@alvie.fr';\n    var subject = i18n.t('drawer.email_subject');\n    var body = \"\\n    \\n    <br> ---- <br>\\n    \" + i18n.t('drawer.app_version', {\n      version: pkg.expo.version\n    }) + \"<br>\\n    \" + i18n.t('drawer.build_number', {\n      build: pkg.extra.build\n    }) + \"<br>\\n    \" + i18n.t('drawer.hygo_model', {\n      model: deviceType\n    }) + \"<br>\\n    \" + i18n.t('drawer.hygo_serial', {\n      serial: deviceid\n    }) + \"\\n    \";\n    Linking.openURL(\"mailto:\" + email + \"?subject=\" + subject + \"&body=\" + body);\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: styles.container,\n    forceInset: {\n      top: 'always'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, React.createElement(StatusBar, {\n    translucent: true,\n    backgroundColor: \"transparent\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }), React.createElement(View, {\n    style: styles.top,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, React.createElement(Thumbnail, {\n    source: require(\"../../assets/farmer-icon-png-10-transparent.png\"),\n    circular: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }), React.createElement(Text, {\n    style: [styles.topText, {\n      marginTop: 10\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, userName + \" \" + familyName)), React.createElement(View, {\n    style: styles.bottom,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.item,\n    onPress: function onPress() {\n      return goToFields();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, React.createElement(Image, {\n    source: require(\"../../assets/parcelles.png\"),\n    style: styles.itemImage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }), React.createElement(Text, {\n    style: styles.itemText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, i18n.t('drawer.parcelles'))), React.createElement(TouchableOpacity, {\n    style: styles.item,\n    onPress: function onPress() {\n      return goToEquipment();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, React.createElement(Image, {\n    source: require(\"../../assets/ICN-Nav2.png\"),\n    style: styles.itemImage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }), React.createElement(Text, {\n    style: styles.itemText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, i18n.t('drawer.equipment'))), React.createElement(TouchableOpacity, {\n    style: styles.item,\n    onPress: sendEmail,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, React.createElement(Image, {\n    source: require(\"../../assets/contact.png\"),\n    style: styles.itemImage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }), React.createElement(Text, {\n    style: styles.itemText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, i18n.t('drawer.contact'))), React.createElement(TouchableOpacity, {\n    style: styles.item,\n    onPress: logout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, React.createElement(Image, {\n    source: require(\"../../assets/logout.png\"),\n    style: styles.itemImage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }), React.createElement(Text, {\n    style: styles.itemText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, i18n.t('drawer.logout'))), React.createElement(TouchableOpacity, {\n    style: styles.item,\n    onPress: goToTest,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, React.createElement(Image, {\n    source: require(\"../../assets/ICN-Nav2.png\"),\n    style: styles.itemImage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }), React.createElement(Text, {\n    style: styles.itemText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, \"Test\"))), React.createElement(View, {\n    style: styles.logoContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, React.createElement(Image, {\n    source: require(\"../../assets/hygo.png\"),\n    style: styles.logo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }), React.createElement(Text, {\n    style: styles.btmText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, \"\" + i18n.t('drawer.app_version', {\n    version: pkg.expo.version\n  })), React.createElement(Text, {\n    style: styles.btmText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, \"\" + i18n.t('drawer.build_number', {\n    build: pkg.extra.build\n  }), \"-3108\"), React.createElement(Text, {\n    style: styles.btmText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, \"\" + i18n.t('drawer.hygo_model', {\n    model: deviceType\n  })), React.createElement(Text, {\n    style: styles.btmText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, \"\" + i18n.t('drawer.hygo_serial', {\n    serial: deviceid\n  }))));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    paddingTop: 25,\n    backgroundColor: Platform.OS === 'ios' ? 'black' : COLORS.CYAN,\n    flex: 1\n  },\n  top: {\n    backgroundColor: COLORS.CYAN,\n    padding: 15\n  },\n  topText: {\n    fontFamily: 'nunito-regular',\n    color: '#fff',\n    fontSize: 16\n  },\n  btmText: {\n    fontFamily: 'nunito-regular',\n    color: COLORS.DARK_BLUE,\n    fontSize: 14\n  },\n  bottom: {\n    backgroundColor: '#fff',\n    flex: 1\n  },\n  item: {\n    padding: 20,\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  itemImage: {\n    tintColor: '#aaaaaa',\n    width: 20,\n    marginRight: 36\n  },\n  itemText: {\n    color: COLORS.DARK_BLUE,\n    textTransform: 'uppercase',\n    fontSize: 16,\n    fontFamily: 'nunito-bold'\n  },\n  logoContainer: {\n    paddingBottom: 30,\n    paddingLeft: 20,\n    backgroundColor: '#fff'\n  },\n  logo: {\n    tintColor: COLORS.DARK_BLUE,\n    marginBottom: 10\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    deviceid: state.authen.deviceid,\n    deviceType: state.authen.deviceType,\n    userName: state.authen.userName,\n    familyName: state.authen.familyName\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, props) {\n  return {\n    deleteToken: function deleteToken() {\n      return dispatch(_deleteToken());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DrawerScreen);","map":{"version":3,"sources":["/Users/Morgan/Programmation/Pro/Hygo/hygoclient/src/screens/DrawerScreen.js"],"names":["React","NavigationActions","DrawerActions","connect","deleteToken","Thumbnail","Header","pkg","COLORS","i18n","getEquipment","getFields","Amplitude","DrawerScreen","navigation","deviceid","deviceType","userName","familyName","goToEquipment","dispatch","closeDrawer","navigate","next","params","action","goToFields","logout","AsyncStorage","removeItem","setUserId","goToTest","sendEmail","email","subject","t","body","version","expo","build","extra","model","serial","Linking","openURL","styles","container","top","require","topText","marginTop","bottom","item","itemImage","itemText","logoContainer","logo","btmText","StyleSheet","create","paddingTop","backgroundColor","Platform","OS","CYAN","flex","padding","fontFamily","color","fontSize","DARK_BLUE","display","flexDirection","alignItems","tintColor","width","marginRight","textTransform","paddingBottom","paddingLeft","marginBottom","mapStateToProps","state","authen","mapDispatchToProps","props"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { StyleSheet, View, Text, Image, AsyncStorage, Linking, TouchableOpacity, SafeAreaView, StatusBar } from 'react-native'\nimport { NavigationActions } from 'react-navigation';\nimport { DrawerActions } from 'react-navigation-drawer';\nimport { connect } from 'react-redux'\nimport { deleteToken } from '../store/actions/authActions'\n\nimport { Thumbnail, Header } from 'native-base'\nimport pkg from '../../app.json'\n\nimport COLORS from '../colors'\nimport i18n from 'i18n-js'\n\nimport { getEquipment, getFields } from '../api/hygoApi'\n\nimport { Amplitude } from '../amplitude'\n\nconst DrawerScreen = ({ navigation, deviceid, deviceType, userName, familyName, deleteToken }) => {\n  const goToEquipment = () => {\n    navigation.dispatch(DrawerActions.closeDrawer())\n    navigation.navigate('LoadingScreen', {\n      next: 'EquipmentSettingsScreen',\n      params: {},\n      action: getEquipment\n    })\n  }\n\n  const goToFields = () => {\n    navigation.dispatch(DrawerActions.closeDrawer())\n    navigation.navigate('FieldsScreen')\n  }\n\n  const logout = async () => {\n    await AsyncStorage.removeItem('token');\n\n    deleteToken();\n    Amplitude.setUserId(null)\n    navigation.navigate('BarCode');\n  }\n\n  const goToTest = () => {\n    navigation.navigate('TestPage');\n  }\n\n  const sendEmail = () => {\n    const email = 'editab@alvie.fr'\n    const subject = i18n.t('drawer.email_subject')\n    const body = `\n    \n    <br> ---- <br>\n    ${i18n.t('drawer.app_version', { version: pkg.expo.version })}<br>\n    ${i18n.t('drawer.build_number', { build: pkg.extra.build })}<br>\n    ${i18n.t('drawer.hygo_model', { model: deviceType })}<br>\n    ${i18n.t('drawer.hygo_serial', { serial: deviceid })}\n    `\n\n    Linking.openURL(`mailto:${email}?subject=${subject}&body=${body}`)\n  }\n\n  return (\n    <SafeAreaView style={styles.container} forceInset={{top:'always'}}>\n    <StatusBar translucent backgroundColor=\"transparent\" />\n      <View style={styles.top}>\n        <Thumbnail source={require('../../assets/farmer-icon-png-10-transparent.png')} circular />\n        <Text style={[styles.topText, { marginTop: 10}]}>{`${userName} ${familyName}`}</Text>\n      </View>\n      <View style={styles.bottom}>\n        <TouchableOpacity style={styles.item}  onPress={() => goToFields()}>\n          <Image source={require('../../assets/parcelles.png')} style={styles.itemImage} />\n          <Text style={styles.itemText}>{i18n.t('drawer.parcelles')}</Text>\n        </TouchableOpacity>\n        <TouchableOpacity style={styles.item} onPress={() => goToEquipment()}>\n          <Image source={require('../../assets/ICN-Nav2.png')} style={styles.itemImage} />\n          <Text style={styles.itemText}>{i18n.t('drawer.equipment')}</Text>\n        </TouchableOpacity>\n        <TouchableOpacity style={styles.item} onPress={sendEmail}>\n          <Image source={require('../../assets/contact.png')} style={styles.itemImage} />\n          <Text style={styles.itemText}>{i18n.t('drawer.contact')}</Text>\n        </TouchableOpacity>\n        <TouchableOpacity style={styles.item} onPress={logout}>\n          <Image source={require('../../assets/logout.png')} style={styles.itemImage} />\n          <Text style={styles.itemText}>{i18n.t('drawer.logout')}</Text>\n        </TouchableOpacity>\n        <TouchableOpacity style={styles.item} onPress={goToTest}>\n          <Image source={require('../../assets/ICN-Nav2.png')} style={styles.itemImage} />\n          <Text style={styles.itemText}>Test</Text>\n        </TouchableOpacity>\n      </View>\n      <View style={styles.logoContainer}>\n        <Image source={require('../../assets/hygo.png')} style={styles.logo} />\n        <Text style={styles.btmText}>{`${i18n.t('drawer.app_version', { version: pkg.expo.version })}`}</Text>\n        <Text style={styles.btmText}>{`${i18n.t('drawer.build_number', { build: pkg.extra.build })}`}-3108</Text>\n        <Text style={styles.btmText}>{`${i18n.t('drawer.hygo_model', { model: deviceType })}`}</Text>\n        <Text style={styles.btmText}>{`${i18n.t('drawer.hygo_serial', { serial: deviceid })}`}</Text>\n      </View>\n    </SafeAreaView>\n  )\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    paddingTop: 25,\n    backgroundColor: Platform.OS === 'ios' ? 'black' : COLORS.CYAN,\n    flex: 1\n  },\n  top: {\n    backgroundColor: COLORS.CYAN,\n    padding: 15,\n  },\n  topText: {\n    fontFamily: 'nunito-regular',\n    color: '#fff',\n    fontSize: 16\n  },\n  btmText: {\n    fontFamily: 'nunito-regular',\n    color: COLORS.DARK_BLUE,\n    fontSize: 14\n  },\n  bottom: {\n    backgroundColor: '#fff',\n    flex: 1\n  },\n  item: {\n    padding: 20,\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  itemImage: {\n    tintColor: '#aaaaaa',\n    width: 20,\n    marginRight: 36\n  },\n  itemText: {\n    color: COLORS.DARK_BLUE,\n    textTransform: 'uppercase',\n    fontSize: 16,\n    fontFamily: 'nunito-bold'\n  },\n  logoContainer: {\n    paddingBottom: 30,\n    paddingLeft: 20,\n    backgroundColor: '#fff'\n  },\n  logo: { \n    tintColor: COLORS.DARK_BLUE,\n    marginBottom: 10,\n  }\n})\n\nconst mapStateToProps = (state) => ({\n  deviceid: state.authen.deviceid,\n  deviceType: state.authen.deviceType,\n  userName: state.authen.userName,\n  familyName: state.authen.familyName\n});\n\nconst mapDispatchToProps = (dispatch, props) => ({\n  deleteToken: () => dispatch(deleteToken())\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DrawerScreen);"]},"metadata":{},"sourceType":"module"}